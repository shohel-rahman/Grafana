{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": false,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": 2,
  "links": [],
  "liveNow": true,
  "panels": [
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 8,
      "panels": [],
      "title": "",
      "type": "row"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#00CED1",
            "mode": "fixed"
          },
          "decimals": 0,
          "mappings": [],
          "max": -1,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "locale"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 1
      },
      "id": 25,
      "options": {
        "colorMode": "value",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT pm.consumer FROM desco.PUBLISHED_MOD pm, desco.SALES_DISTRIBUTION_DIVISION snd\r\nWHERE snd.division_name=\"$Division\" and pm.DIVISION_ID = snd.division_id AND pm.`YEAR` = (SELECT MAX(`YEAR`) from PUBLISHED_MOD) \r\nAND pm.`MONTH` = (SELECT MAX(`MONTH`) from PUBLISHED_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_MOD ));",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Total Consumer",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "blue",
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": [],
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Prepaid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#00CED1",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Postpaid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#3498DB",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 9,
        "w": 5,
        "x": 6,
        "y": 1
      },
      "id": 2,
      "options": {
        "displayLabels": [
          "percent"
        ],
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true,
          "values": []
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT IFNULL(SUM(mpd.consumer_nos),0) AS Prepaid, (pm.consumer -SUM(mpd.consumer_nos)) Postpaid\r\nFROM `MOD_PREPAID_DATA` mpd, PUBLISHED_MOD pm, desco.SALES_DISTRIBUTION_DIVISION snd\r\nWHERE snd.division_name=\"$Division\" and mpd.DIVISION_ID = snd.division_id AND mpd.`YEAR` = (SELECT MAX(`YEAR`) from MOD_PREPAID_DATA) \r\nAND mpd.`MONTH` = (SELECT MAX(`MONTH`) from MOD_PREPAID_DATA WHERE `YEAR`= (SELECT MAX(`YEAR`) from MOD_PREPAID_DATA)) \r\nAND pm.`year` = mpd.`YEAR` AND mpd.DIVISION_ID = pm.division_id AND pm.`month` = mpd.`MONTH` \r\ngroup by mpd.year, mpd.`MONTH`, snd.division_id ;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Consumer Type",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "dark-blue",
            "mode": "thresholds"
          },
          "custom": {
            "align": "center",
            "cellOptions": {
              "mode": "gradient",
              "type": "gauge",
              "valueDisplayMode": "text"
            },
            "filterable": false,
            "inspect": false,
            "minWidth": 100
          },
          "fieldMinMax": true,
          "mappings": [],
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "yellow",
                "value": 0
              },
              {
                "color": "green",
                "value": 50
              }
            ]
          },
          "unit": "locale"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 5,
        "x": 11,
        "y": 1
      },
      "id": 44,
      "options": {
        "cellHeight": "md",
        "footer": {
          "countRows": false,
          "enablePagination": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true,
        "sortBy": [
          {
            "desc": false,
            "displayName": "consumer"
          }
        ]
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT \"Residential\" as Category, sum(ptf.consumer_nos) as Consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('A', 'MT1') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"Commercial\" as type, sum(ptf.consumer_nos) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('E', 'MT2','HT2') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"Industrial\" as type, sum(ptf.consumer_nos) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('C1', 'MT3','HT3') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"Other\" as type, sum(ptf.consumer_nos) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff not IN ('A', 'MT1','E', 'MT2','HT2','C1', 'MT3','HT3') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "",
      "type": "table"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#5794F2",
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": [],
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 8,
        "x": 16,
        "y": 1
      },
      "id": 3,
      "options": {
        "displayLabels": [
          "percent"
        ],
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true,
          "values": []
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT \"Residential\" as type, sum(ptf.consumer_nos) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('A', 'MT1') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"Commercial\" as type, sum(ptf.consumer_nos) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('E', 'MT2','HT2') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"Industrial\" as type, sum(ptf.consumer_nos) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('C1', 'MT3','HT3') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"Other\" as type, sum(ptf.consumer_nos) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff not IN ('A', 'MT1','E', 'MT2','HT2','C1', 'MT3','HT3') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Consumer Category",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "center",
            "cellOptions": {
              "type": "color-text",
              "wrapText": false
            },
            "filterable": false,
            "inspect": false,
            "minWidth": 100
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "locale"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Prepaid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#00CED1",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Postpaid"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#3498DB",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 4,
        "w": 6,
        "x": 0,
        "y": 6
      },
      "id": 42,
      "options": {
        "cellHeight": "lg",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT IFNULL(SUM(mpd.consumer_nos),0) AS Prepaid, (pm.consumer -SUM(mpd.consumer_nos)) Postpaid\r\nFROM `MOD_PREPAID_DATA` mpd, PUBLISHED_MOD pm, desco.SALES_DISTRIBUTION_DIVISION snd\r\nWHERE snd.division_name=\"$Division\" and mpd.DIVISION_ID = snd.division_id AND mpd.`YEAR` = (SELECT MAX(`YEAR`) from MOD_PREPAID_DATA) \r\nAND mpd.`MONTH` = (SELECT MAX(`MONTH`) from MOD_PREPAID_DATA WHERE `YEAR`= (SELECT MAX(`YEAR`) from MOD_PREPAID_DATA)) \r\nAND pm.`year` = mpd.`YEAR` AND mpd.DIVISION_ID = pm.division_id AND pm.`month` = mpd.`MONTH` \r\ngroup by mpd.year, mpd.`MONTH`, snd.division_id ;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "",
      "type": "table"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 10
      },
      "id": 45,
      "panels": [],
      "title": "",
      "type": "row"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "continuous-YlBl"
          },
          "custom": {
            "align": "center",
            "cellOptions": {
              "applyToRow": false,
              "mode": "gradient",
              "type": "color-background"
            },
            "inspect": false,
            "minWidth": 100
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "kwatt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 3,
        "w": 4,
        "x": 0,
        "y": 11
      },
      "id": 46,
      "options": {
        "cellHeight": "md",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT pm.ytd_import_unit \"Import\", pm.ytd_sales_unit \"Sales\" FROM desco.PUBLISHED_MOD pm, desco.SALES_DISTRIBUTION_DIVISION snd\r\nWHERE snd.division_name=\"$Division\" and pm.DIVISION_ID = snd.division_id AND pm.`YEAR` = (SELECT MAX(`YEAR`) from PUBLISHED_MOD) \r\nAND pm.`MONTH` = (SELECT MAX(`MONTH`) from PUBLISHED_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_MOD ));",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "",
      "type": "table"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "blue",
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": [],
          "unit": "none"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 12,
        "w": 8,
        "x": 4,
        "y": 11
      },
      "id": 4,
      "options": {
        "displayLabels": [
          "percent"
        ],
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true,
          "values": []
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT \"Residential\" as type, sum(ptf.ytd_unit) as consumption \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('A', 'MT1') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"Commercial\" as type, sum(ptf.ytd_unit) as consumption \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('E', 'MT2','HT2') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"Industrial\" as type, sum(ptf.ytd_unit) as consumption \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('C1', 'MT3','HT3') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"Other\" as type, sum(ptf.ytd_unit) as consumption \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff not IN ('A', 'MT1','E', 'MT2','HT2','C1', 'MT3','HT3') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Consumption Pattern",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "center",
            "cellOptions": {
              "mode": "lcd",
              "type": "gauge",
              "valueDisplayMode": "text"
            },
            "inspect": false,
            "minWidth": 100
          },
          "fieldMinMax": false,
          "mappings": [],
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "kwatt"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 6,
        "w": 5,
        "x": 12,
        "y": 11
      },
      "id": 47,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "Consumption"
          }
        ]
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT \"Residential\" as Category, IFNULl(sum(ptf.ytd_unit),0) as Consumption \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('A', 'MT1') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"Commercial\" as type, IFNULL(sum(ptf.ytd_unit),0) as consumption \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('E', 'MT2','HT2') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"Industrial\" as type, IFNULL(sum(ptf.ytd_unit),0) as consumption \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('C1', 'MT3','HT3') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"Other\" as type, IFNULL(sum(ptf.ytd_unit),0) as consumption \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff not IN ('A', 'MT1','E', 'MT2','HT2','C1', 'MT3','HT3') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "",
      "type": "table"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "blue",
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": [],
          "unit": "none"
        },
        "overrides": [
          {
            "__systemRef": "hideSeriesFrom",
            "matcher": {
              "id": "byNames",
              "options": {
                "mode": "exclude",
                "names": [
                  "consumer",
                  "0.23/0.4 KV",
                  "11 KV"
                ],
                "prefix": "All except:",
                "readOnly": true
              }
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 12,
        "w": 7,
        "x": 17,
        "y": 11
      },
      "id": 15,
      "options": {
        "displayLabels": [
          "percent"
        ],
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true,
          "values": []
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT \"0.23/0.4 KV\" as type, sum(ptf.consumer_nos) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('A', 'B', 'C1', 'C2', 'D1', 'D2', 'D3','E','T') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"11 KV\" as type, sum(ptf.consumer_nos) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff LIKE 'MT%' AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"33 KV\" as type, sum(ptf.consumer_nos) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff LIKE 'HT%' AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"132/230 KV\" as type, sum(ptf.consumer_nos) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff LIKE 'EHT%' AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Connection Pattern",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "red",
            "mode": "continuous-GrYlRd"
          },
          "mappings": [],
          "max": 8.5,
          "min": 1,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 9,
        "w": 4,
        "x": 0,
        "y": 14
      },
      "id": 12,
      "options": {
        "minVizHeight": 75,
        "minVizWidth": 75,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "/^ytd_system_loss$/",
          "values": false
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "sizing": "auto"
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT pm.ytd_system_loss FROM desco.PUBLISHED_MOD pm, desco.SALES_DISTRIBUTION_DIVISION snd\r\nWHERE snd.division_name=\"$Division\" and pm.DIVISION_ID = snd.division_id AND pm.`YEAR` = (SELECT MAX(`YEAR`) from PUBLISHED_MOD) \r\nAND pm.`MONTH` = (SELECT MAX(`MONTH`) from PUBLISHED_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_MOD ));",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "System Loss",
      "type": "gauge"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "align": "center",
            "cellOptions": {
              "mode": "lcd",
              "type": "gauge"
            },
            "inspect": false,
            "minWidth": 100
          },
          "mappings": [],
          "thresholds": {
            "mode": "percentage",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "purple",
                "value": 80
              }
            ]
          },
          "unit": "locale"
        },
        "overrides": [
          {
            "__systemRef": "hideSeriesFrom",
            "matcher": {
              "id": "byNames",
              "options": {
                "mode": "exclude",
                "names": [
                  "consumer",
                  "0.23/0.4 KV",
                  "11 KV"
                ],
                "prefix": "All except:",
                "readOnly": true
              }
            },
            "properties": []
          }
        ]
      },
      "gridPos": {
        "h": 6,
        "w": 5,
        "x": 12,
        "y": 17
      },
      "id": 48,
      "options": {
        "cellHeight": "sm",
        "footer": {
          "countRows": false,
          "fields": "",
          "reducer": [
            "sum"
          ],
          "show": false
        },
        "showHeader": true,
        "sortBy": [
          {
            "desc": true,
            "displayName": "Consumer"
          }
        ]
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT \"0.23/0.4 KV\" as \"Connection Type\", IFNULL(sum(ptf.consumer_nos),0) as Consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff IN ('A', 'B', 'C1', 'C2', 'D1', 'D2', 'D3','E','T') AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"11 KV\" as type, IFNULL(sum(ptf.consumer_nos),0) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff LIKE 'MT%' AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"33 KV\" as type, IFNULL(sum(ptf.consumer_nos),0) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff LIKE 'HT%' AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"\r\nUNION \r\nSELECT \"132/230 KV\" as type, IFNULL(sum(ptf.consumer_nos),0) as consumer \r\nFROM `PUBLISHED_TRF_WISE_MOD`ptf, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE ptf.division_id = snd.DIVISION_ID AND ptf.tariff LIKE 'EHT%' AND ptf.year =(SELECT MAX(`YEAR`) from desco.PUBLISHED_TRF_WISE_MOD) \r\nAND ptf.month= (SELECT MAX(`MONTH`) from PUBLISHED_TRF_WISE_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_TRF_WISE_MOD)) \r\nand snd.DIVISION_NAME = \"$Division\"",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "",
      "type": "table"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "continuous-RdYlGr"
          },
          "custom": {
            "axisBorderShow": true,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisGridShow": true,
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 72,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 2,
            "scaleDistribution": {
              "type": "linear"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "fieldMinMax": true,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "red",
                "value": 0
              }
            ]
          },
          "unit": "megwatt"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Maximum Demand"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "mode": "continuous-RdYlGr"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 10,
        "w": 12,
        "x": 0,
        "y": 23
      },
      "id": 5,
      "options": {
        "barRadius": 0.25,
        "barWidth": 0.8,
        "colorByField": "Maximum Demand",
        "fullHighlight": false,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true,
          "sortBy": "Name",
          "sortDesc": true
        },
        "orientation": "auto",
        "showValue": "always",
        "stacking": "normal",
        "text": {},
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        },
        "xField": "Month-YY",
        "xTickLabelRotation": -45,
        "xTickLabelSpacing": 100
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT DATE_FORMAT(MAKEDATE(year, 1) + INTERVAL (month - 1) MONTH, '%b-%y') AS 'Month-YY',  MAX_LOAD \"Maximum Demand\"\r\nFROM ( SELECT year, month, mld.MAX_LOAD FROM MAXIMUM_LOAD_DEMAND mld, SALES_DISTRIBUTION_DIVISION snd\r\nWHERE mld.DIVISION_ID = snd.division_id AND snd.DIVISION_NAME = \"$Division\"\r\nORDER BY year DESC, month DESC LIMIT 36 ) as sub\r\nORDER BY year ASC, month ASC;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Load Demand Pattern",
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "purple",
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": true,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisGridShow": true,
            "axisLabel": "",
            "axisPlacement": "left",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 16,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineStyle": {
              "dash": [
                0,
                3,
                3
              ],
              "fill": "dot"
            },
            "lineWidth": 1,
            "pointSize": 8,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "fieldMinMax": false,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "kwatt"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "year"
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": true,
                  "tooltip": true,
                  "viz": true
                }
              },
              {
                "id": "unit",
                "value": "none"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "month"
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": true,
                  "tooltip": true,
                  "viz": true
                }
              },
              {
                "id": "unit",
                "value": "none"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Sales"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "semi-dark-green",
                  "mode": "shades"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 10,
        "w": 12,
        "x": 12,
        "y": 23
      },
      "id": 34,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "asc"
        }
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "time_series",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT STR_TO_DATE(CONCAT(year,'-',LPAD(month,2,'0'),'-01'),'%Y-%m-%d') AS time, pm.year, pm.month, import_unit AS 'Import', pm.sales_unit as 'Sales'\r\nFROM desco.PUBLISHED_MOD pm, desco.SALES_DISTRIBUTION_DIVISION snd WHERE snd.division_name = \"$Division\" and snd.division_id = pm.division_id;",
          "refId": "Import-Sales",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Import vs Sales",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": true,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisGridShow": true,
            "axisLabel": "",
            "axisPlacement": "left",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineStyle": {
              "fill": "solid"
            },
            "lineWidth": 1,
            "pointSize": 8,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Time"
            },
            "properties": [
              {
                "id": "unit",
                "value": "time:MMM-YY"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "year"
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": true,
                  "tooltip": true,
                  "viz": true
                }
              },
              {
                "id": "unit",
                "value": "none"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "month"
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": true,
                  "tooltip": true,
                  "viz": true
                }
              },
              {
                "id": "unit",
                "value": "none"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Monthly System Loss"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "light-yellow",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "YTD System Loss"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "red",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 6,
        "w": 24,
        "x": 0,
        "y": 33
      },
      "id": 29,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "asc"
        }
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "time_series",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT STR_TO_DATE(CONCAT(year,'-',LPAD(month,2,'0'),'-01'),'%Y-%m-%d') AS time, year, month, pm.system_loss AS 'Monthly System Loss',\r\npm.ytd_system_loss as 'YTD System Loss'\r\nFROM desco.PUBLISHED_MOD pm, desco.SALES_DISTRIBUTION_DIVISION snd WHERE snd.division_name = \"$Division\" and snd.division_id = pm.division_id;",
          "refId": "sys loss",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "System Loss Over Time",
      "type": "timeseries"
    },
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 39
      },
      "id": 19,
      "panels": [],
      "title": "",
      "type": "row"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#506a33",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "currency:"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 0,
        "y": 40
      },
      "id": 20,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT pm.ytd_bill_amount FROM desco.PUBLISHED_MOD pm, desco.SALES_DISTRIBUTION_DIVISION snd\r\nWHERE snd.division_name=\"$Division\" and pm.DIVISION_ID = snd.division_id AND pm.`YEAR` = (SELECT MAX(`YEAR`) from PUBLISHED_MOD) \r\nAND pm.`MONTH` = (SELECT MAX(`MONTH`) from PUBLISHED_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_MOD ));",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Bill Amount",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#00CED1",
            "mode": "fixed"
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "currency:"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 3,
        "y": 40
      },
      "id": 21,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "percentChangeColorMode": "standard",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "showPercentChange": false,
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT pm.ytd_coll_amount FROM desco.PUBLISHED_MOD pm, desco.SALES_DISTRIBUTION_DIVISION snd\r\nWHERE snd.division_name=\"$Division\" and pm.DIVISION_ID = snd.division_id AND pm.`YEAR` = (SELECT MAX(`YEAR`) from PUBLISHED_MOD) \r\nAND pm.`MONTH` = (SELECT MAX(`MONTH`) from PUBLISHED_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_MOD ));",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Collection",
      "type": "stat"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "continuous-RdYlGr"
          },
          "mappings": [],
          "max": 100,
          "min": 94,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 6,
        "y": 40
      },
      "id": 14,
      "options": {
        "minVizHeight": 75,
        "minVizWidth": 75,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "/^ytd_bc_ratio$/",
          "values": false
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "sizing": "auto"
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT pm.ytd_bc_ratio\r\nFROM desco.PUBLISHED_MOD pm, desco.SALES_DISTRIBUTION_DIVISION snd\r\nWHERE snd.division_name=\"$Division\" and pm.DIVISION_ID = snd.division_id AND pm.`YEAR` = (SELECT MAX(`YEAR`) from PUBLISHED_MOD) \r\nAND pm.`MONTH` = (SELECT MAX(`MONTH`) from PUBLISHED_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_MOD ));",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "BC Ratio",
      "type": "gauge"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "continuous-RdYlGr"
          },
          "mappings": [],
          "max": 99,
          "min": 85,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 3,
        "x": 9,
        "y": 40
      },
      "id": 16,
      "options": {
        "minVizHeight": 75,
        "minVizWidth": 75,
        "orientation": "auto",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "/^ytd_ci_ratio$/",
          "values": false
        },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "sizing": "auto"
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT pm.ytd_ci_ratio \r\nFROM desco.PUBLISHED_MOD pm, desco.SALES_DISTRIBUTION_DIVISION snd\r\nWHERE snd.division_name=\"$Division\" and pm.DIVISION_ID = snd.division_id AND pm.`YEAR` = (SELECT MAX(`YEAR`) from PUBLISHED_MOD) \r\nAND pm.`MONTH` = (SELECT MAX(`MONTH`) from PUBLISHED_MOD WHERE `YEAR`= (SELECT MAX(`YEAR`) from PUBLISHED_MOD ));",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "CI Ratio",
      "type": "gauge"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "thresholds"
          },
          "custom": {
            "axisBorderShow": true,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisGridShow": true,
            "axisLabel": "",
            "axisPlacement": "auto",
            "fillOpacity": 80,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "lineWidth": 2,
            "scaleDistribution": {
              "type": "linear"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              },
              {
                "color": "super-light-red",
                "value": 1.5
              },
              {
                "color": "light-red",
                "value": 1.8
              },
              {
                "color": "semi-dark-red",
                "value": 2
              }
            ]
          },
          "unit": "none"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "year-month"
            },
            "properties": [
              {
                "id": "unit",
                "value": "time:MMM-YY"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 13,
        "w": 12,
        "x": 12,
        "y": 40
      },
      "id": 6,
      "options": {
        "barRadius": 0.2,
        "barWidth": 0.9,
        "fullHighlight": false,
        "groupWidth": 0.7,
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "orientation": "auto",
        "showValue": "always",
        "stacking": "none",
        "text": {
          "valueSize": 15
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        },
        "xField": "year-month",
        "xTickLabelRotation": -45,
        "xTickLabelSpacing": 100
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "table",
          "rawQuery": true,
          "rawSql": "SELECT CONCAT(year,\"-\",`month`) \"year-month\",  acc_receivable_eqv_month \"A/C Receivables Equivalent Month\" from(\r\nSELECT year, month, pm.acc_receivable_eqv_month \r\nfrom desco.PUBLISHED_MOD pm, desco.SALES_DISTRIBUTION_DIVISION snd WHERE snd.DIVISION_ID = pm.division_id \r\nAND snd.DIVISION_NAME =\"$Division\"\r\nORDER BY `year` DESC, month desc LIMIT 12) as data order by year,month;",
          "refId": "A",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Account Receivables Equivalent Month",
      "type": "barchart"
    },
    {
      "datasource": {
        "type": "mysql",
        "uid": "deurvbd1ff30ga"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": true,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisGridShow": true,
            "axisLabel": "",
            "axisPlacement": "left",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineStyle": {
              "fill": "solid"
            },
            "lineWidth": 1,
            "pointSize": 8,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "fieldMinMax": false,
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green",
                "value": 0
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "year"
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": true,
                  "tooltip": true,
                  "viz": true
                }
              },
              {
                "id": "unit",
                "value": "none"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "month"
            },
            "properties": [
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": true,
                  "tooltip": true,
                  "viz": true
                }
              },
              {
                "id": "unit",
                "value": "none"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 8,
        "w": 12,
        "x": 0,
        "y": 45
      },
      "id": 35,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "asc"
        }
      },
      "pluginVersion": "12.2.0-16868078697",
      "targets": [
        {
          "dataset": "desco",
          "datasource": {
            "type": "mysql",
            "uid": "deurvbd1ff30ga"
          },
          "editorMode": "code",
          "format": "time_series",
          "hide": false,
          "rawQuery": true,
          "rawSql": "SELECT LAST_DAY(MAKEDATE(pm.year, 1) + INTERVAL (pm.month - 1) MONTH) AS time, pm.year, pm.month, pm.bill_amount AS Bill, pm.collection_amount as Collection\r\nFROM desco.PUBLISHED_MOD pm, desco.SALES_DISTRIBUTION_DIVISION snd WHERE snd.division_name = \"$Division\" and snd.division_id = pm.division_id;",
          "refId": "Bill",
          "sql": {
            "columns": [
              {
                "parameters": [],
                "type": "function"
              }
            ],
            "groupBy": [
              {
                "property": {
                  "type": "string"
                },
                "type": "groupBy"
              }
            ],
            "limit": 50
          }
        }
      ],
      "title": "Bill vs Collection",
      "type": "timeseries"
    }
  ],
  "preload": true,
  "refresh": "5s",
  "schemaVersion": 41,
  "tags": [],
  "templating": {
    "list": [
      {
        "allowCustomValue": false,
        "current": {
          "text": "DESCO",
          "value": "DESCO"
        },
        "datasource": {
          "type": "mysql",
          "uid": "deurvbd1ff30ga"
        },
        "definition": "SELECT  sdd.DIVISION_NAME FROM SALES_DISTRIBUTION_DIVISION sdd; ",
        "description": "Select S & D",
        "includeAll": false,
        "label": "S & D",
        "name": "Division",
        "options": [],
        "query": "SELECT  sdd.DIVISION_NAME FROM SALES_DISTRIBUTION_DIVISION sdd; ",
        "refresh": 1,
        "regex": "",
        "sort": 1,
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "2022-06-17T23:14:39.000Z",
    "to": "2025-06-26T23:14:39.000Z"
  },
  "timepicker": {
    "hidden": true,
    "nowDelay": ""
  },
  "timezone": "browser",
  "title": "DESCO Overview",
  "uid": "eeklgzlead5ogf",
  "version": 42
}
